<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMAR BUS</title>
    <!--Font awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CSS -->
    <link rel="stylesheet" href="css/seatSelection.css">
</head>
<body>

<!-- START NAV AREA -->
<nav>
    <div class="nav-area">
        <div class="logo">
            <img src="img/logo.png" alt="LOGO">
        </div>
        <div class="list">
            <ul>
                <li><a class="active" href="home.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html">Register</a></li>
                <li><a href="busInfo.html">Bus Information</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </div>
        <div class="profile">
            <img onclick="profile_open()" src="img/profile.png" alt="#">
        </div>
        <div class="mobile-menu-btn">
            <i onclick="profile_open()" class="fas fa-bars"></i>
        </div>
    </div>
</nav>
<!-- END NAV AREA -->

<!-- Start Sidebar -->
<div class="sidebar" id="sidebar">
    <div class="close-btn">
        <i onclick="profile_close()" class="fa-sharp fa-solid fa-xmark"></i>
    </div>
    <img src="img/profile.png" alt="#">
    <br><br>
    <!-- Contents -->
    <div class="contents">
        <h2>Fardin Ahmed Shawon</h2>
        <p>
            <i class="fa-solid fa-envelope"></i> mdshawon7443@gmail.com
        </p>
        <p>
            <i class="fa-solid fa-mobile-screen-button"></i> 01944667441
        </p>
        <p>
            <i class="fa-sharp fa-solid fa-id-card"></i> 2367235479889
        </p>

        <br><hr><br>

        <a href="profile.html">
            <button>Profile</button>
        </a>

        <div class="pages-mobile">
            <a href="home.html">
                <button>Home</button>
            </a>
            <a href="login.html">
                <button>Login</button>
            </a>
            <a href="register.html">
                <button>Register</button>
            </a>
            <a href="busInfo.html">
                <button>Bus Information</button>
            </a>
            <a href="contact.html">
                <button>Contact Us</button>
            </a>
        </div>

        <a href="purchaseHistory.html">
            <button>Purchase History</button>
        </a>
        <a href="updatePass.html">
            <button>Update Password</button>
        </a>
        <a href="login.html">
            <button>Logout</button>
        </a>
    </div>

    <!-- 2 -->
    <div class="contents-2">
        <h2>You are not logged in!</h2>

        <br><hr><br>

        <div class="pages-mobile">
            <a href="home.html">
                <button>Home</button>
            </a>
            <a href="busInfo.html">
                <button>Bus Information</button>
            </a>
            <a href="contact.html">
                <button>Contact Us</button>
            </a>
        </div>
        <a href="login.html">
            <button>Login</button>
        </a>
        <a href="register.html">
            <button>Register</button>
        </a>

    </div>

</div>
<!-- End Sidebar -->

<h2 id="incorrect-msg"></h2>
<section>
    <div class="container">
        <div class="col-2 information-area">
            <h1>COACH INFORMATION</h1><br>
            <h2>Hanif Enterprise</h2>
            <h3 style="font-weight: 600">Economy Class</h3>
            <br>
            <h3>Hino 1J, Non AC, Coach No. #2</h3>
            <h3 style="font-weight: 600">Fare: <span id="ticketPrice">900</span> Tk</h3>
            <br>
            <h3 style="font-weight: 700">Journey Date: 2024-12-31</h3>
            <br>
            <h5>Departure</h5>
            <h3>Dhaka</h3>
            <h4>7:30 AM</h4>
            <br>
            <hr>
            <br>
            <h5>Arrival</h5>
            <h3>Sylhet</h3>
            <h4>3:30 PM</h4>
        </div>
        <!-- Seats -->
        <div class="col-2 seat-selection-area">
            <h1>Choose Your Seat</h1><hr><br>
            <!-- Top area -->
            <div class="selection-indicator">
                <div class="col-3">
                    <div class="type-1"></div>
                    <span>Available</span>
                </div>
                <div class="col-3">
                    <div class="type-2"></div>
                    <span>Sold</span>
                </div>
                <div class="col-3">
                    <div class="type-3"></div>
                    <span>Selected</span>
                </div>
            </div>
            <!-- Selection Area -->
            <div class="card">
                <div class="row">
                    <div class="col-2">
                        <div class="seat">A1</div>
                        <div class="seat">A2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat sold">A3</div>
                        <div class="seat sold">A4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">B1</div>
                        <div class="seat">B2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">B3</div>
                        <div class="seat">B4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">C1</div>
                        <div class="seat">C2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">C3</div>
                        <div class="seat">C4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">D1</div>
                        <div class="seat">D2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">D3</div>
                        <div class="seat">D4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">E1</div>
                        <div class="seat">E2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">E3</div>
                        <div class="seat">E4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">F1</div>
                        <div class="seat sold">F2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">F3</div>
                        <div class="seat">F4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat sold">G1</div>
                        <div class="seat">G2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">G3</div>
                        <div class="seat">G4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">H1</div>
                        <div class="seat">H2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">H3</div>
                        <div class="seat">H4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">I1</div>
                        <div class="seat">I2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">I3</div>
                        <div class="seat">I4</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <div class="seat">J1</div>
                        <div class="seat">J2</div>
                    </div>
                    <div class="col-2">
                        <div class="seat">J3</div>
                        <div class="seat">J4</div>
                    </div>
                </div>
            </div>
            <!-- Bottom Area -->
            <!-- Bottom Area -->
            <div class="bottom-area">
                <div class="left-p"><p><span id="count">0</span> seat(s) selected</p></div>
                <div class="right-p"><p><span id="total">0</span> Tk</p></div>
            </div>
            <a href='#'>
                <button onclick='checkSelection()' class='btn'>Continue</button>
            </a>
        </div>
    </div>
</section>


<script>

// Seat Selection
count = document.getElementById('count');
total = document.getElementById('total');
ticket_price = document.getElementById('ticketPrice');
seat_container = document.querySelector('.card');
available_seats = document.querySelectorAll('.seat:not(.sold)');

unit_price = +ticket_price.innerText;

// Selected seat will store here
let seat_list = [];

function update_count_total() {
    var selected_seats = document.querySelectorAll(".card .selected");
    count.innerText = selected_seats.length;
    total.innerText = selected_seats.length * unit_price;

    // Set count and price values into the local storage
    var total_price = total.innerText;
    localStorage.setItem('total_Price', total_price);
}

seat_container.addEventListener('click', function(e) {
    if (e.target.classList.contains('seat') && !e.target.classList.contains('sold')) {
        e.target.classList.toggle('selected');
        update_count_total();
        // insert value into the 'seat_list' array
        seat_list.push(e.target.innerText);
    }
});


// check selection(minimum 1 seat will be selected)
var msgBox = document.getElementById('incorrect-msg');
function checkSelection() {
    if (count.innerText >= 1) {
        window.location.href = "booking.html";
        // Set 'seat_list' array into the local storage
        localStorage.setItem('seat_Lists', JSON.stringify(seat_list));
    } else {
        var msg_box = document.getElementById('incorrect-msg');
        msg_box.innerText = "You have to select at least 1 seat!";
    }
}

</script>
<script src="main.js"></script>
</body>
</html>